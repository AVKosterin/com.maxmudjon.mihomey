{
  "id": "com.maxmudjon.mihomey",
  "version": "0.1.0",
  "compatibility": ">=1.5.0",
  "sdk": 2,
  "name": {
    "en": "Mi Homey"
  },
  "description": {
    "en": "Adds support for Mi Gateways child devices"
  },
  "category": [
    "tools"
  ],
  "permissions": [],
  "images": {
    "large": "/assets/images/large.png",
    "small": "/assets/images/small.png"
  },
  "author": {
    "name": "Maxmudjon Payziyev",
    "email": "bio42@mail.ru"
  },
  "contributors": {
      "developers": [
          {
              "name": "Maxmudjon Payziyev",
              "email": "bio42@mail.ru"
          }
      ]
  },
  "contributing": {
      "donate": {
          "paypal": {
              "username": "paypal.me/maxmudjon"
          }
      }
  },
  "bugs": {
      "url": "https://github.com/Maxmudjon/com.maxmudjon.mihomey/issues"
  },
  "flow": {
    "triggers": [
      {
        "id": "left_click_db86_switch",
        "title": {
          "en": "Left button clicked"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=db86_switch"
          }
        ]
      },
      {
        "id": "right_click_db86_switch",
        "title": {
          "en": "Right button clicked"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=db86_switch"
          }
        ]
      },
      {
        "id": "both_click_db86_switch",
        "title": {
          "en": "Both buttons clicked"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=db86_switch"
          }
        ]
      }
    ],
    "conditions": [
      
    ],
    "actions": [
        
    ]
  },
  "drivers": [
    {
      "id": "db86_switch",
      "name": {
        "en": "AQara Wireless Switch"
      },
      "class": "sensor",
      "capabilities": [
        "button.left",
        "button.right",
        "button.both",
        "measure_battery",
        "alarm_battery"
        
      ],
      "capabilitiesOptions": {
        "button.left": {
          "title": {
            "en": "Left click"
          }
        },
        "button.right": {
          "title": {
            "en": "Right click"
          }
        },
        "button.both": {
          "title": {
            "en": "Both click"
          }
        }
      },
      "mobile": {
        "components": [
          {
            "id": "icon"
          },
          {
            "id": "battery",
            "capabilities": [
              "measure_battery"
            ],
            "options": { "showTitle": true }
          },
          {
            "id": "sensor",
            "capabilities": [ "button.left", "button.right", "button.both", "alarm_battery"],
            "options": {
              "showTitle": true,
              "icons": {
                  "button.left": "/drivers/db86_switch/assets/db86_switch_left_click_icon.svg",
                  "button.right": "/drivers/db86_switch/assets/db86_switch_right_click_icon.svg",
                  "button.both": "/drivers/db86_switch/assets/db86_switch_both_click_icon.svg",
                  "alarm_battery": "/drivers/db86_switch/assets/alarm_battery.svg"
              }
            }
          }
        ]
      },
      "images": {
        "large": "/drivers/db86_switch/assets/images/large.png",
        "small": "/drivers/db86_switch/assets/images/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          },
          "options": {
            "singular": false
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ]
    }
  ]
}