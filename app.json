{
  "id": "com.maxmudjon.mihomey",
  "version": "0.0.1",
  "compatibility": ">=1.5.0",
  "sdk": 2,
  "name": {
    "en": "Mi Homey"
  },
  "description": {
    "en": "Adds support for Mi Gateways child devices"
  },
  "category": [
    "tools"
  ],
  "permissions": [],
  "images": {
    "large": "/assets/images/large.png",
    "small": "/assets/images/small.png"
  },
  "author": {
    "name": "Maxmudjon Payziyev",
    "email": "bio42@mail.ru"
  },
  "capabilities": {
    "get_left_click_db86_switch": {
        "type": "boolean",
        "title": {
          "en": "Get left click"
        },
        "getable": true,
        "setable": false
    },
    "get_right_click_db86_switch": {
        "type": "boolean",
        "title": {
          "en": "Get right click"
        },
        "getable": true,
        "setable": false
    },
    "get_both_click_db86_switch": {
        "type": "boolean",
        "title": {
          "en": "Get both click"
        },
        "getable": true,
        "setable": false
    }
  },
  "flow": {
    "triggers": [
      {
        "id": "left_click_db86_switch",
        "title": {
          "en": "On left click"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=db86_switch"
          }
        ]
      },
      {
        "id": "right_click_db86_switch",
        "title": {
          "en": "On right click"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=db86_switch"
          }
        ]
      },
      {
        "id": "both_click_db86_switch",
        "title": {
          "en": "On both click"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=db86_switch"
          }
        ]
      }
    ],
    "conditions": [
      
    ],
    "actions": [
        
    ]
  },
  "drivers": [
    {
      "id": "db86_switch",
      "name": {
        "en": "Duplex button"
      },
      "class": "sensor",
      "capabilities": [
        "get_left_click_db86_switch",
        "get_right_click_db86_switch",
        "get_both_click_db86_switch",
        "measure_battery",
        "alarm_battery"
        
      ],
      "capabilitiesOptions": {
        "get_left_click_db86_switch": {
          "title": {
            "en": "Left click"
          }
        },
        "get_right_click_db86_switch": {
          "title": {
            "en": "Right click"
          }
        },
        "get_both_click_db86_switch": {
          "title": {
            "en": "Both click"
          }
        }
      },
      "mobile": {
        "components": [
          {
            "id": "icon"
          },
          {
            "id": "battery",
            "capabilities": [
              "measure_battery"
            ],
            "options": { "showTitle": true }
          },
          {
            "id": "sensor",
            "capabilities": [ "get_left_click_db86_switch", "get_right_click_db86_switch", "get_both_click_db86_switch", "alarm_battery"],
            "options": {
              "showTitle": true,
              "icons": {
                  "get_left_click_db86_switch": "/drivers/db86_switch/assets/db86_switch_left_click_icon.svg",
                  "get_right_click_db86_switch": "/drivers/db86_switch/assets/db86_switch_right_click_icon.svg",
                  "get_both_click_db86_switch": "/drivers/db86_switch/assets/db86_switch_both_click_icon.svg",
                  "alarm_battery": "/drivers/db86_switch/assets/alarm_battery.svg"
              }
            }
          }
        ]
      },
      "images": {
        "large": "/drivers/db86_switch/assets/images/large.png",
        "small": "/drivers/db86_switch/assets/images/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          },
          "options": {
            "singular": false
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ]
    }
  ]
}